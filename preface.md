# You Don't Know JS
# 序文

読者もお気づきのことでしょうが、本シリーズのタイトルにある「JS」はJavaScriptについての呪いの言葉の略語ではありません。とは言え、JavaScriptの言語的な癖は、皆さん呪いのようだとお思いのことでしょう。

webの創成期から、JavaScriptはweb上のコンテンツにインタラクティブ性をもたらす基礎的な技術として君臨し続けてきました。マウスにキラキラを追従させることやウザったいポップアップを出すことから始まり、それから20年が過ぎて、現在ではJavaScriptの技術と可能性は非常に大きなものとなっています。世界で最も大きなソフトウェアプラットフォームである「web」の核心部分において、JavaScriptの重要性が増していることに疑念の余地はないでしょう。

しかしプログラミング言語としては、JavaScriptは常に批判の対象になってきました。批判の一部は言語的な遺産についてのものですが、その他の大部分はJavaScriptのデザイン哲学についてのものです。名前からも連想できますが、Brendan Eichが「バカな年下の兄弟」と表現した通り、JavaScriptは年上の兄弟たる「Java」に並んで位置づけられます。しかし、JavaScriptという名前は、単なる政治的・商業的な事故でしかありません。JavaScriptとJavaは、数多くの重要な部分で、大きく異なっています。「JavaScript」と「Java」は、「Carnival」と「Car」ほど違うものです。

JavaScriptはいくつかのプログラミング言語からコンセプトや文法を借りて設計されています。誇り高きC言語スタイルの手続き型な部分もあれば、微妙に明確性に欠けたScheme/Lispスタイルの関数型な部分もあります。このためJavaScriptは、経験に乏しい初心者の開発者も含め、幅広い開発者に非常に親しみやすいものです。JavaScriptの「Hello world」は非常にシンプルなので、初心者にも広く門戸が開かれています。

JavaScriptはおそらく初心者が手を出すのに最も簡単な言語の一つですが、言語的な奇抜さから、完全に熟達するのは他の言語に比べて非常に難しいです。CやC++で実用的なプログラムを書くためにはその言語についてかなり深い知識が必要となります。一方JavaScriptの実用的なプログラムは、JavaScriptの言語的な仕様のほんの表層部分を知っていれば書くことができます。実際に多くの実用的なプログラムはJavaScriptの表層部分のみを使って書かれています。

JavaScriptの深いところに根ざした洗練されたコンセプトは、簡単**に見える**ように(例えば、コールバックとして関数を渡すなど)言語を覆い隠してしまいがちです。このことは、JavaScript開発者がJavaScriptをそのまま使い、隠れた部分でJavaScriptが何をしているのかを考えさせないようにしてくれます。

多くの開発者に懇願されてきたシンプルで使いやすい言語は、同時に、複雑で抽象的な言語です。慎重に学習しない限り、経験豊富な開発者でも**真の理解**に達せない言語であると言うこともできます。

この点がJavaScriptの持つパラドクスであり、唯一の弱点であり、私たちが現在課題にしている点です。JavaScriptは深い知見を持たずとも使え**てしまう**ため、言語に対する真の理解に到達しないことがよく生じてしまうのです。

## ミッション

いつもそうしてしまう人もいると思いますが、JavaScriptを書いていて驚いたり不満に思った点に出くわした時、その点を見て見ぬふりをしていれば、形だけのJavaScriptの便利さのみを見るようになってしまいます。

この「形だけの便利さ」は広く「The Good Parts(良い部分)」と言われてきました。しかし私は、聡明な本書の読者たちにはこれを「The Easy Parts(簡単な部分)」や「The Safe Parts(安全な部分)」だと考えてほしいのです。「The Incomplete Parts(不完全な部分)」と考えていただいても差し支えありません。

本書 *You Don't Know Javascript* は、「The Good Parts」などとは反対の目標を提案します。すなわち、JavaScriptの*すべて*を学び、深く理解することが目標です。その中で、「The Tough Parts(難解な場所)」についても学んでいきましょう。

本書では、JS開発者たちの「必要な分だけ」学び、JSがどのように・なぜそう振る舞うのかを一切考えないという風潮に正面から立ち向かいます。本書では、難解なポイントに直面したときに*やめておこう*と一概にアドバイスすることをしません。

私は、そして読者の皆さんもそうであるべきですが、*動けば良し*とする姿勢や、*なぜ*動くのかを本当は知らないという姿勢に満足しません。私は、読者の皆さんに徐々に「道なき道」を旅し、JavaScriptそのものやJavaScriptができることすべてを受け入れてほしいのです。そういった、テクニックでもフレームワークでも今週のバズ記事でもない「知識」は、読者のみなさんの理解を広げてくれることでしょう。

本書は、JavaScriptの広く誤解されていたりそもそも理解されていなかったりする部分についてそれぞれ注目し、非常に深いところまで徹底的に理解していきます。読者のみなさんは、本書を読破するときにはJavaScriptへの理解に確固たる自信をもっていることでしょう。しかも本書では、単なる理論的な理解ではなく、実用的な「あなたが知るべきこと」を理解できるはずです。

読者のみなさんがJavaScriptについて*いま*知っていることはおそらくJavaScriptの*一部分*に過ぎず、他の誰かからの不完全な理解の付け焼き刃に過ぎません。*それ*もJavaScriptですが、本当のJavaScriptの影の部分でしかありません。あなたは*本当の意味での*JavaScriptを*まだ*知らないのです。しかし、本書を読み込めば、あなたは*いずれ*本当の意味でのJavaScriptを知ることができます。さあ読み始めましょう。JavaScriptがあなたを待っています。

## まとめ

JavaScriptは最高です。JavaScriptを部分的に習得するのは簡単ですが、完全に習得するのは(あるいは、*十分に*習得するのでさえ)非常に大変です。開発者が理解に苦しむ点に出くわしたとき、彼らは自分の理解不足を棚に上げて言語を非難します。本書はその姿勢を見直してもらうことに焦点を当てています。あなたが今できる言語への感謝を促すとともに、あなたは言語について深く*知るべき*なのです。

補足: 本書における例の多くは、ES6のようなモダンな(かつ将来まで有効と思われる)JavaScriptエンジンを想定しています。本書に掲載されたコードを古い(ES6以前の)エンジンで動作させた場合、説明通りの動作にならない可能性があります。
